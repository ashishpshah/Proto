
<div class="row">
  <div class="col-sm-12">
      <app-card [title]="'Category Master'" [classHeader]="true" [blockClass]="'table-border-style'">
        <div class="table-responsive">
            <p>
              <!-- <a class="btn btn-success float-right" [routerLink]="['/add-edit-item']">Add New</a>   -->
              <a class="btn btn-success float-right text-white m-b-10 m-r-20 fa fa-plus-circle cursor-pointer" (click)="openInsertPage()"><span class="font-d"> Add New</span></a>
            </p>
              <br/>
              <br/>

            <p-table class="" #dt [value]="categoryMaster" [(selection)]="selectedCategoryMaster" dataKey="id" [autoLayout]="true" styleClass="p-datatable-d" [rowHover]="true" [rows]="10" [showCurrentPageReport]="true" [rowsPerPageOptions]="[10,25,50]" [loading]="loading" [paginator]="true" currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries" [filterDelay]="0" [globalFilterFields]="['Catg_Name','Catg_Name_D','RCatg_Name']">
              <ng-template pTemplate="caption">
                <div class="table-header-p ">
                    <span class="p-input-icon-left">
                        <i class="pi pi-search"></i>
                        <input class="p-l-30 form-control" pInputText type="text" (input)="dt.filterGlobal($event.target.value, 'contains')" placeholder="Global Search" />
                    </span>
                </div>
              </ng-template>
              <br/>
              <br/>
              <ng-template pTemplate="header">
              <tr>
                  <th pSortableColumn="Catg_Name">Category Name <p-sortIcon field="Catg_Name"></p-sortIcon></th>
                  <th pSortableColumn="Catg_Name_D">Category Name (Danish) <p-sortIcon field="Catg_Name_D"></p-sortIcon></th>
                  <th pSortableColumn="RCatg_Name">Root Category Name <p-sortIcon field="RCatg_Name"></p-sortIcon></th>
                  <th pSortableColumn="StatusDesc">Status <p-sortIcon field="StatusDesc"></p-sortIcon></th>
                  <th pSortableColumn="Deleted">IsDeleted <p-sortIcon field="Deleted"></p-sortIcon></th>
                  <th >Action </th>
              </tr>
              <tr>
                  <th>
                  <input pInputText type="text" (input)="dt.filter($event.target.value, 'Catg_Name', 'startsWith')" placeholder="Search by Category" class="form-control">
                  </th>
                <th></th>
                  <th>
                      <input pInputText type="text" (input)="dt.filter($event.target.value, 'RCatg_Name', 'contains')" placeholder="Search by Root" class="form-control">
                  </th>

                  <th></th>
                  <th></th>
                  <th></th>

              </tr>
              </ng-template>

              <ng-template pTemplate="body" let-item>
              <tr class="">  <!-- p-selectable-row  -->

                  <td>
                        {{item.Catg_Name}}
                  </td>
                  <td>
                    {{item.Catg_Name_D}}
                  </td>
                  <td>
                    {{item.RCatg_Name}}
              </td>
                  <td>
                        {{item.StatusDesc}}
                  </td>
                  <td style = "width: 220px;">
                    {{item.Deleted}} <span *ngIf="item.Deleted =='Yes'"><button type="button" class="float-right btn btn-success text-white " (click) = "activateItem(item.Catg_ID)">Make Active</button> </span>
                  </td>
                  <td>
                          <a class="ti-pencil-alt edit" (click)="openEditPage(item.Catg_ID)"></a>
                          &nbsp;<a class=" ti-trash delete" (click)="deleteItem(item.Catg_ID)"></a>
                             <!-- &nbsp;<a class=" ti-eye view" (click)="deleteItem(item.Item_ID)"></a> -->
                  </td>
              </tr>
              </ng-template>
              <ng-template pTemplate="emptymessage">
              <tr>
              <td colspan="6">No items found</td>
              </tr>
              </ng-template>
          </p-table>
        </div>
     </app-card>
  </div>
</div>

